
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Qrlive-Menu application.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "Unique identifier for the user, matching Firebase Auth UID."
        },
        "email": {
          "type": "string",
          "description": "Email address of the user.",
          "format": "email"
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the user account was created.",
          "format": "date-time"
        },
        "lastLoginAt": {
          "type": "string",
          "description": "Timestamp indicating the user's last login.",
          "format": "date-time"
        },
        "onboarding": {
          "type": "boolean",
          "description": "Indicates whether the user has completed the onboarding process."
        },
        "businessId": {
          "type": "string",
          "description": "The ID of the business associated with the user (e.g., is-Menu-25-DFCV68)."
        },
        "businessName": {
          "type": "string",
          "description": "The name of the user's business."
        },
        "ownerName": {
          "type": "string",
          "description": "The name of the business owner."
        },
        "contact": {
          "type": "string",
          "description": "The contact number for the business."
        },
        "address": {
          "type": "string",
          "description": "The full address of the business."
        },
        "gst": {
          "type": "string",
          "description": "The GST detail for the business."
        },
        "businessType": {
          "type": "string",
          "description": "The type of the business.",
          "enum": [
            "cafe",
            "restaurant",
            "bar",
            "pub"
          ]
        },
        "latitude": {
          "type": "number",
          "description": "Latitude of the user's business location."
        },
        "longitude": {
          "type": "number",
          "description": "Longitude of the user's business location."
        },
        "instagramLink": {
            "type": "string",
            "description": "A link to the business's Instagram profile."
        }
      },
      "required": [
        "uid",
        "email",
        "createdAt",
        "lastLoginAt",
        "onboarding",
        "businessType"
      ]
    },
    "Business": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Business",
      "type": "object",
      "description": "Maps a public businessId to a private owner UID.",
      "properties": {
        "ownerUid": {
          "type": "string",
          "description": "The UID of the user who owns this business."
        }
      },
      "required": ["ownerUid"]
    },
    "Staff": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Staff",
      "type": "object",
      "description": "Represents a staff member of a business.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the staff member."
        },
        "name": {
          "type": "string",
          "description": "Name of the staff member."
        },
        "accessCode": {
          "type": "string",
          "description": "A 6-digit PIN for the staff member to log in for attendance."
        },
        "shiftId": {
          "type": "string",
          "description": "The ID of the shift assigned to the staff member."
        },
        "monthlySalary": {
          "type": "number",
          "description": "The monthly salary for the staff member."
        }
      },
      "required": ["id", "name", "monthlySalary"]
    },
    "Shift": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "Shift",
        "type": "object",
        "description": "Represents a work shift for staff.",
        "properties": {
            "id": { "type": "string" },
            "name": { "type": "string" },
            "from": { "type": "string", "format": "time" },
            "to": { "type": "string", "format": "time" }
        },
        "required": ["id", "name", "from", "to"]
    },
     "Attendance": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Attendance",
      "type": "object",
      "description": "Represents a single attendance record for a staff member.",
      "properties": {
        "id": { "type": "string" },
        "staffId": { "type": "string" },
        "shiftName": { "type": "string" },
        "captureTime": { "type": "string", "format": "date-time" },
        "imageUrl": { "type": "string", "format": "uri" },
        "status": { "type": "string", "enum": ["Present", "Half Day", "Absent", "Paid Leave"] },
        "date": { "type": "string", "format": "date" }
      },
      "required": ["id", "staffId", "captureTime", "status", "date"]
    },
    "PayrollAdjustment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PayrollAdjustment",
      "type": "object",
      "description": "Represents a single payroll adjustment (fine or bonus) for a staff member for a specific month.",
      "properties": {
        "id": { "type": "string" },
        "staffId": { "type": "string" },
        "type": { "type": "string", "enum": ["bonus", "fine"] },
        "amount": { "type": "number" },
        "comment": { "type": "string" },
        "date": { "type": "string", "format": "date" }
      },
      "required": ["id", "staffId", "type", "amount", "date"]
    },
    "Device": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Device",
      "type": "object",
      "description": "Represents a user's device information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the device."
        },
        "userAgent": {
          "type": "string",
          "description": "The user agent string of the device."
        },
        "lastLoginAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of the last login from this device."
        },
        "status": {
          "type": "string",
          "description": "Activity status of the device.",
          "enum": [
            "active",
            "previously_used"
          ]
        }
      },
      "required": [
        "id",
        "userAgent",
        "lastLoginAt",
        "status"
      ]
    },
    "MenuItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "MenuItem",
      "type": "object",
      "description": "Represents a menu item offered by a restaurant.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the menu item."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N MenuItem)"
        },
        "categoryId": {
          "type": "string",
          "description": "Reference to MenuCategory. (Relationship: MenuCategory 1:N MenuItem)"
        },
        "name": {
          "type": "string",
          "description": "Name of the menu item."
        },
        "description": {
          "type": "string",
          "description": "Description of the menu item."
        },
        "price": {
          "type": "number",
          "description": "Price of the menu item."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the image for the menu item."
        }
      },
      "required": [
        "id",
        "userId",
        "categoryId",
        "name",
        "description",
        "price"
      ]
    },
    "MenuCategory": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "MenuCategory",
      "type": "object",
      "description": "Represents a category of menu items.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the menu category."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N MenuCategory)"
        },
        "name": {
          "type": "string",
          "description": "Name of the menu category (e.g., Appetizers, Main Courses)."
        },
        "description": {
          "type": "string",
          "description": "Description of the menu category."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "description"
      ]
    },
    "Event": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Event",
      "type": "object",
      "description": "Represents an event hosted by the restaurant.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the event."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Event)"
        },
        "name": {
          "type": "string",
          "description": "Name of the event."
        },
        "description": {
          "type": "string",
          "description": "Description of the event."
        },
        "dateTime": {
          "type": "string",
          "description": "Date and time of the event.",
          "format": "date-time"
        },
        "location": {
          "type": "string",
          "description": "Location of the event."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "description",
        "dateTime",
        "location"
      ]
    },
    "Rsvp": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Rsvp",
      "type": "object",
      "description": "Represents a user's RSVP to an event.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the RSVP."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Rsvp)"
        },
        "eventId": {
          "type": "string",
          "description": "Reference to Event. (Relationship: Event 1:N Rsvp)"
        },
        "status": {
          "type": "string",
          "description": "The status of the RSVP (e.g., 'going', 'not going', 'maybe')."
        }
      },
      "required": [
        "id",
        "userId",
        "eventId",
        "status"
      ]
    },
    "Task": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Task",
      "type": "object",
      "description": "Represents a task assigned to a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the task."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Task)"
        },
        "description": {
          "type": "string",
          "description": "Description of the task."
        },
        "dueDate": {
          "type": "string",
          "description": "The date when the task is due.",
          "format": "date-time"
        },
        "completed": {
          "type": "boolean",
          "description": "Indicates whether the task is completed or not."
        },
        "handledBy": {
          "type": "string",
          "description": "The name of the staff member who handled the task."
        }
      },
      "required": [
        "id",
        "userId",
        "description",
        "dueDate",
        "completed"
      ]
    },
    "Feedback": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Feedback",
      "type": "object",
      "description": "Represents feedback submitted by a user for a restaurant.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the feedback."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Feedback)"
        },
        "comment": {
          "type": "string",
          "description": "The comment provided as feedback."
        },
        "rating": {
          "type": "number",
          "description": "The rating provided as feedback (e.g., 1-5 stars)."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the feedback was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "comment",
        "rating",
        "timestamp"
      ]
    },
    "QrliveFeedback": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "QrliveFeedback",
      "type": "object",
      "description": "Represents feedback for the QRLive app itself.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the QRLive feedback."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N QrliveFeedback)"
        },
        "comment": {
          "type": "string",
          "description": "The comment provided as feedback for the app."
        },
        "rating": {
          "type": "number",
          "description": "The rating provided as feedback for the app (e.g., 1-5 stars)."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the feedback was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "comment",
        "rating",
        "timestamp"
      ]
    },
    "MobileVerification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "MobileVerification",
      "type": "object",
      "description": "Represents a mobile verification entry.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the verification entry."
        },
        "phoneNumber": {
          "type": "string",
          "description": "The phone number being verified."
        },
        "verificationCode": {
          "type": "string",
          "description": "The verification code sent to the phone number."
        },
        "expiryTime": {
          "type": "string",
          "description": "Timestamp when the verification code expires.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "phoneNumber",
        "verificationCode",
        "expiryTime"
      ]
    },
    "Activity": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Activity",
      "type": "object",
      "description": "Represents a user activity log entry.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the activity log entry."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Activity)"
        },
        "activityType": {
          "type": "string",
          "description": "Type of activity (e.g., 'login', 'menu item created')."
        },
        "description": {
          "type": "string",
          "description": "Description of the activity."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the activity occurred.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "activityType",
        "description",
        "timestamp"
      ]
    },
    "Plan": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Plan",
      "type": "object",
      "description": "Represents a subscription plan.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the subscription plan."
        },
        "name": {
          "type": "string",
          "description": "Name of the subscription plan."
        },
        "description": {
          "type": "string",
          "description": "Description of the subscription plan."
        },
        "price": {
          "type": "number",
          "description": "Price of the subscription plan."
        },
        "features": {
          "type": "array",
          "description": "List of features included in the plan.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "price",
        "features"
      ]
    },
    "Notification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Notification",
      "type": "object",
      "description": "Represents a notification to be sent to a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the notification."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Notification)"
        },
        "message": {
          "type": "string",
          "description": "The message content of the notification."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the notification was created.",
          "format": "date-time"
        },
        "read": {
          "type": "boolean",
          "description": "Indicates whether the user has read the notification."
        }
      },
      "required": [
        "id",
        "userId",
        "message",
        "timestamp",
        "read"
      ]
    },
    "FeedbackRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FeedbackRequest",
      "type": "object",
      "description": "Represents a request for feedback, created by the admin.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the feedback request."
        },
        "question": {
          "type": "string",
          "description": "The question being asked in the feedback request."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the feedback request was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "question",
        "timestamp"
      ]
    },
    "FeedbackResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FeedbackResponse",
      "type": "object",
      "description": "Represents a user's response to a feedback request.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the feedback response."
        },
        "requestId": {
          "type": "string",
          "description": "Reference to FeedbackRequest. (Relationship: FeedbackRequest 1:N FeedbackResponse)"
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N FeedbackResponse)"
        },
        "answer": {
          "type": "string",
          "description": "The user's answer to the feedback request."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the feedback response was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "requestId",
        "answer",
        "timestamp"
      ]
    }
  },
  "auth": {
    "providers": [
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/User"
      },
      "description": "Stores user profile data."
    },
    "/businesses/{businessId}": {
      "schema": {
        "$ref": "#/entities/Business"
      },
      "description": "Maps a public businessId to a private owner UID."
    },
     "/users/{userId}/staff/{staffId}": {
      "schema": {
        "$ref": "#/entities/Staff"
      },
      "description": "Stores staff information for a business owner."
    },
    "/users/{userId}/shifts/{shiftId}": {
      "schema": {
        "$ref": "#/entities/Shift"
      },
      "description": "Stores shift schedules for a business."
    },
    "/users/{userId}/staff/{staffId}/attendance/{attendanceId}": {
      "schema": {
        "$ref": "#/entities/Attendance"
      },
      "description": "Stores attendance records for a specific staff member."
    },
    "/users/{userId}/staff/{staffId}/payroll/{payrollId}": {
      "schema": {
        "$ref": "#/entities/PayrollAdjustment"
      },
      "description": "Stores payroll adjustments (fines/bonuses) for a staff member."
    },
    "/users/{userId}/devices/{deviceId}": {
      "schema": {
        "$ref": "#/entities/Device"
      },
      "description": "Stores device information for a user."
    },
    "/users/{userId}/menuItems/{itemId}": {
      "schema": {
        "$ref": "#/entities/MenuItem"
      },
      "description": "Stores menu items associated with a user."
    },
    "/users/{userId}/menuCategories/{categoryId}": {
      "schema": {
        "$ref": "#/entities/MenuCategory"
      },
      "description": "Stores menu categories created by a user."
    },
    "/users/{userId}/events/{eventId}": {
      "schema": {
        "$ref": "#/entities/Event"
      },
      "description": "Stores events created by a user."
    },
    "/users/{userId}/events/{eventId}/rsvps/{rsvpId}": {
      "schema": {
        "$ref": "#/entities/Rsvp"
      },
      "description": "Stores RSVPs for events. User ID is denormalized."
    },
    "/users/{userId}/tasks/{taskId}": {
      "schema": {
        "$ref": "#/entities/Task"
      },
      "description": "Stores tasks assigned to a user."
    },
    "/users/{userId}/feedback/{feedbackId}": {
      "schema": {
        "$ref": "#/entities/Feedback"
      },
      "description": "Stores feedback provided by a user."
    },
    "/qrlive-feedback/{feedbackId}": {
      "schema": {
        "$ref": "#/entities/QrliveFeedback"
      },
      "description": "Stores feedback for the QRLive app."
    },
    "/mobileVerifications/{verificationId}": {
      "schema": {
        "$ref": "#/entities/MobileVerification"
      },
      "description": "Stores mobile verification entries."
    },
    "/users/{userId}/activity/{activityId}": {
      "schema": {
        "$ref": "#/entities/Activity"
      },
      "description": "Stores activity logs for a user."
    },
    "/plans/{planId}": {
      "schema": {
        "$ref": "#/entities/Plan"
      },
      "description": "Stores subscription plans."
    },
    "/notifications/{notificationId}": {
      "schema": {
        "$ref": "#/entities/Notification"
      },
      "description": "Stores notifications."
    },
    "/feedback_requests/{requestId}": {
      "schema": {
        "$ref": "#/entities/FeedbackRequest"
      },
      "description": "Stores feedback requests created by the admin."
    },
    "/feedback_responses/{responseId}": {
      "schema": {
        "$ref": "#/entities/FeedbackResponse"
      },
      "description": "Stores feedback responses provided by users."
    }
  }
}
